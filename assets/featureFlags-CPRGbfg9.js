class t{flags;STORAGE_KEY="provence-courses-feature-flags";constructor(){this.flags={cleanupOnLogout:!0,cleanupOnLogoutLevel:"full",improvedRouteDetection:!1,userSpecificStorage:!1,enableCleanupLogs:!0,enableCleanupMetrics:!1},this.loadFlags()}loadFlags(){try{const e=localStorage.getItem(this.STORAGE_KEY);if(e){const s=JSON.parse(e);this.flags={...this.flags,...s},console.log("ðŸš© [FeatureFlags] Flags chargÃ©s:",this.flags)}}catch(e){console.warn("âš ï¸ [FeatureFlags] Erreur chargement flags, utilisation des dÃ©fauts:",e)}}saveFlags(){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.flags)),console.log("ðŸ’¾ [FeatureFlags] Flags sauvegardÃ©s")}catch(e){console.error("âŒ [FeatureFlags] Erreur sauvegarde flags:",e)}}isEnabled(e){const s=this.flags[e];return this.flags.enableCleanupLogs&&console.log(`ðŸš© [FeatureFlags] Check ${e}: ${s}`),!!s}getValue(e){return this.flags[e]}setFlag(e,s){const l=this.flags[e];this.flags[e]=s,console.log(`ðŸ”§ [FeatureFlags] ${e}: ${l} â†’ ${s}`),this.saveFlags(),console.log(`ðŸ“Š [FeatureFlags] FLAG CHANGE - ${e} activÃ©: ${s}`)}disableAllExperimental(){console.warn("ðŸ†˜ [FeatureFlags] DÃ‰SACTIVATION D'URGENCE de tous les flags expÃ©rimentaux"),this.flags.cleanupOnLogout=!1,this.flags.improvedRouteDetection=!1,this.flags.userSpecificStorage=!1,this.flags.enableCleanupMetrics=!1,this.saveFlags(),console.log("âœ… [FeatureFlags] Tous les flags expÃ©rimentaux dÃ©sactivÃ©s")}getAllFlags(){return{...this.flags}}debugFlags(){console.table(this.flags)}shouldCleanupOnLogout(){return this.isEnabled("cleanupOnLogout")}getCleanupLevel(){return this.getValue("cleanupOnLogoutLevel")}enableCleanupForTesting(e="minimal"){console.log(`ðŸ§ª [FeatureFlags] Activation nettoyage pour tests - niveau: ${e}`),this.setFlag("cleanupOnLogout",!0),this.setFlag("cleanupOnLogoutLevel",e),this.setFlag("enableCleanupLogs",!0)}disableCleanupForTesting(){console.log("ðŸ›‘ [FeatureFlags] DÃ©sactivation nettoyage"),this.setFlag("cleanupOnLogout",!1)}}const a=new t,g=()=>a.shouldCleanupOnLogout(),n=()=>a.getCleanupLevel();export{a as featureFlags,n as getCleanupLevel,g as shouldCleanupOnLogout};
